import{d as b,X as ie,U as it,r as f,u as ve,j as n,A as ct,W as ut,a as ee,b as De,T as lt,h as dt,t as p,s as J,m as S,c as ht,e as de,f as he,g as Se,i as E,D as Fe,k as Le,l as Ee,n as Ve,o as Te,p as X,F as P,I as L,L as Q,q as He,v as Ce,B as T,S as Ie,w as V,x as m,y as mt,H as se,z as w,C as ze,M as _e,E as qe,G as ke,J as ce,K as I,N as pt,O as xe,P as gt,Q as xt,R as ft,V as yt,Y as wt,Z as jt,_ as Pt,$ as Ct,a0 as bt,a1 as vt,a2 as St,a3 as Lt,a4 as W,a5 as Et,a6 as Tt,a7 as Ge,a8 as It,a9 as Nt,aa as ne,ab as At,ac as re,ad as kt,ae as Gt,af as Ot,ag as $t,ah as Oe,ai as Ut,aj as Rt,ak as Mt,al as Bt,am as Dt,an as Ft,ao as Vt,ap as Ht,aq as zt,ar as _t,as as qt,at as Wt,au as Xt,av as Qt,aw as ae,ax as Yt,ay as Jt,az as Kt}from"./vendor-N2r31fDL.js";class A{namespace;info;error;warn;debug;throw;constructor(...e){this.namespace=e.join(" > "),this.error=console.error.bind(this,this.baseColor(101,"error"),`
	`),this.warn=console.warn.bind(this,this.baseColor(103,"warn"),`
	`),this.info=console.info.bind(this,this.baseColor(104,"info"),`
	`),this.debug=console.debug.bind(this,this.baseColor(102,"debug"),`
	`),this.throw=console.log.bind(this,this.baseColor(105,"throw"),"↓ The Following Error is Thrown ↓")}With(...e){return new A(this.namespace,...e)}baseColor(e,t){return`\x1B[${e};30;1m ${t.toUpperCase()} \x1B[0m\x1B[100;97m ${b().format("YY-M-D H:m:s")} \x1B[1m\x1B[40;97m ${this.namespace} `}}const me={Name:"LoveOTC"};class Zt{constructor(e,t){this.DB=e,this.Name=t,this.Sto=e.table(t),this.Trim()}Sto;async Get(e,t){const s=await this.Sto.get(e);return s?t&&await ie.waitFor(t(s))||typeof s.Exp=="number"&&s.Exp<b().unix()?(await this.Sto.delete(e),null):s.Val:null}async GetOrSet(e,t,s,r){const a=await this.Get(e,r);return a||this.Set(e,await ie.waitFor(t()),s)}async Set(e,t,s){if(!t)throw TypeError("Value cannot be null");if(s===null)return await this.Sto.put({Id:e,Exp:s,Val:t}),t;const r=(s||b().add(1,"week")).unix();if(s&&r<b().unix())throw RangeError(`Expire time [${r}] cannot be less than now [${b().unix()}]`);return await this.Sto.put({Id:e,Exp:r,Val:t}),t}Trim(){return this.Sto.filter(e=>typeof e.Exp=="number"&&e.Exp<b().unix()).delete()}}const pe=new ie(me.Name,{autoOpen:!1});pe.version(1).stores({Shared:"Id, Exp",ShopCart:"Id"});pe.open();const M=new Zt(pe,"Shared"),fe=pe.table("ShopCart");class K{static get LocalUser(){const e=localStorage.getItem("oidc.user:https://keycloak.eco.tsi-dev.otc-service.com/realms/eco:loveotc");return e?it.fromStorageString(e):null}static AuthSlot;static get Auth(){return new Promise(e=>{if(this.AuthSlot)return e(this.AuthSlot);const t=setInterval(()=>{this.AuthSlot&&(clearInterval(t),e(this.AuthSlot))},100)})}static async AccessToken(){let{isAuthenticated:e,user:t,signinSilent:s}=await this.Auth;if(e||(t=await s()),t)return t.access_token}}function ye(i){return`/${i.filter(t=>t).map(t=>t.toString().replace(/^\/+/,"")).join("/")}`}const We=f.createContext({});function $(){return f.useContext(We)}function es({children:i}){const[e,t]=f.useState(()=>({Paths:location.pathname.split("/").filter(u=>u),Search:new URLSearchParams(location.search),Put:s,Nav:(...u)=>a(ye(u)),Rep:(...u)=>o(ye(u)),Reload:(...u)=>c(u)}));function s(u){history.replaceState(null,"",`${location.pathname}${u.size?"?":""}${u.toString()}`),e.Search=new URLSearchParams(u),t({...e})}function r(u){e.Paths=u.split("/").filter(d=>d),e.Search=new URLSearchParams(location.search),t({...e})}function a(u){history.pushState(null,"",u),r(u)}function o(u){history.replaceState(null,"",u),r(u)}function c(u){history.replaceState(null,"","/Reload"),r("/Reload"),setTimeout(()=>{const d=u.length?ye(u):location.pathname;history.pushState(null,"",d),r(d)},100)}return ve(()=>{location.pathname==="/"&&location.search.startsWith("?/")&&o(location.search.substring(2)),addEventListener("click",u=>{const d=u.target?.closest("a");if(d){if(d.origin!==location.origin){d.target="_blank";return}u.preventDefault(),a(d.pathname)}}),addEventListener("popstate",u=>{u.preventDefault(),r(location.pathname)})}),n.jsx(We.Provider,{value:e,children:i})}function ts({children:i}){const{Rep:e}=$();return n.jsxs(ct,{client_id:"loveotc",scope:"openid profile email address phone",userStore:new ut({store:window.localStorage}),onSigninCallback:()=>{e("/"),location.reload()},authority:"https://keycloak.eco.tsi-dev.otc-service.com/realms/eco",post_logout_redirect_uri:"https://shop.eco.tsi-dev.otc-service.com/Logout",redirect_uri:"https://shop.eco.tsi-dev.otc-service.com/Login",children:[n.jsx(ns,{}),i]})}const ss=new A("Auth");function ns(){const i=K.AuthSlot=ee(),{Paths:e,Rep:t}=$();return ve(()=>{if(e.at(0)==="Logout")return i.removeUser(),t("/");!dt()&&!i.isAuthenticated&&!i.activeNavigator&&!i.isLoading&&i.signinRedirect()}),De(()=>{i.error&&ss.warn(i.error)},[i.error]),n.jsx(lt,{pauseOnHover:!0})}function oe({children:i}){const e=ee();return e.isLoading?"Authenticating...":e.isAuthenticated?i:null}function rs({children:i}){return ee().isAuthenticated?null:i}const N={display:"flex"},as={flexDirection:"column"},B={...N,...as},fn={...N,backgroundColor:p.colorNeutralBackground1,boxShadow:p.shadow4,...J.borderRadius(p.borderRadiusMedium)},os={whiteSpace:"pre-line"},Ne=60,Ae="1636px",is={objectFit:"cover",objectPosition:"center"},cs=S({pre:os});function te(i){const e=cs(),t=ht(),{dispatchToast:s}=t;return{dispatch:r=>{const a=r.Error.message,o=a.indexOf("Exception:");let c=a;o!==-1&&(c=a.substring(o+10)),s(n.jsxs(de,{children:[n.jsx(he,{children:"Internal Error"}),n.jsx(Se,{subtitle:n.jsxs(E,{className:e.pre,children:[c,n.jsx("br",{}),"More Info, See Console"]}),children:n.jsx(E,{className:e.pre,children:r.Message})})]}),{intent:"error",timeout:1e4}),i.error(r)},...t}}const us=S({box:{...B,rowGap:p.spacingVerticalM},one:{...N,columnGap:p.spacingVerticalXXXL},fill:{flexGrow:1}}),$e=new A("Setting");function Xe({Open:i,Toggle:e,New:t}){const s=us(),r=ee(),[a,o]=f.useState(),[c,u]=f.useState(),[d,h]=f.useState(),[l,g]=f.useState(Array(5).fill("")),{data:y,mutate:G}=O.User.Get.useMe($e);f.useEffect(()=>{if(t||!y)return;const{Surname:j,Forename:x,Phone:at,Address:ot}=y;o(j),u(x),h(at),g(ot.split("; "))},[y]);const{dispatch:z,dispatchToast:R}=te($e),{run:_}=O.User.Post.useUpdate({manual:!0,onError(j,[x]){z({Message:`Failed ${t?"Create":"Update"} Info`,Error:j,Request:x})},onSuccess(j,[x]){G({...y,...x}),R(n.jsxs(de,{children:[n.jsxs(he,{children:["Info ",t?"Created":"Updated"]}),n.jsxs(Se,{children:[x.Surname,", ",x.Forename,n.jsx("br",{}),x.Phone,n.jsx("br",{}),x.Address]})]}),{intent:"success"}),t&&(q.next(!1),q.complete(),q.closed=!0),e()}});return n.jsx(Fe,{open:i,onOpenChange:e,modalType:t?"alert":"modal",children:n.jsx(Le,{children:n.jsxs(Ee,{children:[n.jsx(Ve,{children:t?"Welcome! Fill in your info to get started.":"Personal Information"}),n.jsxs(Te,{className:s.box,children:[n.jsxs("div",{className:s.one,children:[n.jsx(X,{content:"Surname, for shipping label",relationship:"description",withArrow:!0,children:n.jsx(P,{className:s.fill,label:"Family Name",size:"large",required:!0,children:n.jsx(L,{size:"medium",value:a,maxLength:20,onChange:(j,x)=>o(x.value)})})}),n.jsx(X,{content:"Forename, for shipping label",relationship:"description",withArrow:!0,children:n.jsx(P,{className:s.fill,label:"Given Name",size:"large",required:!0,children:n.jsx(L,{className:s.fill,size:"medium",value:c,maxLength:20,onChange:(j,x)=>u(x.value)})})})]}),n.jsxs("div",{className:s.one,children:[n.jsx(X,{content:"Up to 20 digits, starting with an internation access code",relationship:"description",withArrow:!0,children:n.jsx(P,{label:"Phone",size:"large",required:!0,children:n.jsx(L,{size:"medium",value:d,maxLength:20,onChange:(j,x)=>h(x.value)})})}),n.jsx(X,{content:`Your company email, ${r.user?.profile.email}`,relationship:"description",withArrow:!0,children:n.jsx(P,{className:s.fill,label:"E-Mail",size:"large",children:n.jsx(L,{size:"medium",value:r.user?.profile.email,disabled:!0})})})]}),n.jsx(Q,{size:"large",required:!0,children:"Address"}),n.jsx(P,{hint:"Street Address",children:n.jsx(L,{value:l[0],onChange:(j,x)=>{l[0]=x.value,g([...l])},maxLength:50,minLength:10})}),n.jsxs("div",{className:s.one,children:[n.jsx(P,{hint:"City",children:n.jsx(L,{value:l[1],onChange:(j,x)=>{l[1]=x.value,g([...l])},maxLength:20,minLength:2})}),n.jsx(P,{hint:"State / Province",children:n.jsx(L,{value:l[2],onChange:(j,x)=>{l[2]=x.value,g([...l])},maxLength:20,minLength:2})})]}),n.jsxs("div",{className:s.one,children:[n.jsx(P,{hint:"Country",children:n.jsx(L,{value:l[3],onChange:(j,x)=>{l[3]=x.value,g([...l])},maxLength:10,minLength:2})}),n.jsx(P,{hint:"Postal / Zip Code",children:n.jsx(L,{value:l[4],onChange:(j,x)=>{l[4]=x.value,g([...l])},maxLength:10,minLength:2})})]})]}),n.jsxs(He,{children:[!t&&n.jsx(Ce,{disableButtonEnhancement:!0,children:n.jsx(T,{appearance:"secondary",children:"Cancel"})}),n.jsx(T,{appearance:"primary",onClick:()=>_({EMail:r.user?.profile.email,Surname:a,Forename:c,Address:l.join("; "),Phone:d}),children:"Submit"})]})]})})})}const q=new Ie;function ls(){const[i,{toggle:e}]=V();return ve(()=>q.subscribe(t=>t&&e())),n.jsx(oe,{children:n.jsx(Xe,{Open:i,Toggle:e,New:!0})})}class Qe extends Error{constructor(){super("Please Login First")}}class ds extends Error{constructor(){super("Server Returned False")}}class Ye extends Error{constructor(){super("Server Returned Empty Response")}}function k(i,e,t){t.useMemory||(t.setCache=a=>localStorage.setItem(i,JSON.stringify(a)),t.getCache=()=>JSON.parse(localStorage.getItem(i)||"{}"));const s=m(e,{staleTime:5e3,...t,cacheKey:i});function r(){return mt(i),localStorage.removeItem(i),s.refreshAsync()}return{...s,refresh:r,refreshAsync:r}}class Je{static async EnsureConnected(){return this.Hub.state===se.Connected?Promise.resolve():((this.Hub.state===se.Disconnected||this.Hub.state===se.Disconnecting)&&await this.Hub.start(),new Promise(e=>{const t=setInterval(()=>{this.Hub.state===se.Connected&&(clearInterval(t),e())},100)}))}static async Invoke(e,...t){return await this.EnsureConnected(),this.Hub.invoke(e,...t)}static EnsureLogin(){if(!K.LocalUser||K.LocalUser.expired)throw new Qe}static EnsureTrue(e){if(!e)throw new ds}static async HandleFileStream(e,t,s){const a=Math.ceil(e.size/30720);let o=0;for(;o<a;){const c=o*30720,u=Math.min(c+30720,e.size),d=e.slice(c,u),h=new FileReader,l=await new Promise((g,y)=>{h.onload=()=>g(new Uint8Array(h.result)),h.onerror=()=>y(h.error),h.readAsArrayBuffer(d)});t.next(l),s?.debug(`Sent chunk ${o+1}/${a}`),o++}t.complete()}static Index(e,t){return`${t}_${e}`}static reqPool=new Set;static async getLocker(e){if(this.reqPool.has(e))return new Promise(t=>{const s=setTimeout(()=>this.reqPool.delete(e),1e4),r=setInterval(()=>{this.reqPool.has(e)||(clearInterval(r),t(),clearTimeout(s))},100)})}static async GetVersionCache(e,t){const s=this.Index(e,t);await this.getLocker(s);const r=await M.Get(s),a=async()=>{this.reqPool.add(s);const o=await ie.waitFor(this.Invoke(t,e,r?.Version)),c=u=>{M.Set(s,{...u,QueryExp:b().add(10,"s").unix()},b().add(1,"w")).finally(()=>this.reqPool.delete(s))};if(o===!0)return c(r),r;if(!o)throw M.Sto.delete(s),new Ye;return c(o),o};return r?(r.QueryExp<b().unix()&&a(),r):a()}static async GetTimeCache(e,t,s,...r){const a=this.Index(e,t);return await this.getLocker(a),await M.GetOrSet(a,()=>(this.reqPool.add(a),this.Invoke(t,...r)),s(b())).finally(()=>this.reqPool.delete(a))}static useTimeCache(e,t,s){const r=w(()=>this.Index(e,t));return k(r,(...o)=>this.Invoke(t,...o),s)}static async UpdateCache(e,t,s,r){const a=this.Index(t,s),o=await M.Get(a);if(!o)return;const c=e(o);o.QueryExp?await M.Set(a,{...c,QueryExp:b().add(1,"m").unix()},b().add(1,"w")):await M.Set(a,c,r||null)}}class U extends Je{static Log=["|","ShopNet"];static Hub=new ze().withUrl("/Hub",{logMessageContent:!1,async accessTokenFactory(){const e=await K.AccessToken();return e||""}}).withAutomaticReconnect().withStatefulReconnect().withHubProtocol(new _e).configureLogging(qe.Information).build()}U.Hub.on("OnNewUser",()=>{q.next(!0),console.debug("OnNewUser")});class hs extends U{static Categories(){return this.GetTimeCache("","GalleryGetCategories",e=>e.add(1,"m"))}static async Products(e){return await this.GetTimeCache(e,"GalleryGetProducts",s=>s.add(1,"m"),e)}}const ms={Get:hs};class Ke extends U{static async Get(e){if(!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/i.test(e))throw new Error(`Invalid ObjectId ${e}`);return await this.EnsureConnected(),this.Hub.stream("ObjectStorageGet",e)}static useGet(e,t){const s=w(()=>t.With("GuidImage"));return k(e,a=>this.GetBySlice(a,s),{onError:s.error,defaultParams:[e],useMemory:!0})}static GetBySlice(e,t){const s=[];return M.GetOrSet(e,()=>new Promise((r,a)=>{this.Get(e).then(o=>o.subscribe({error(c){a(c)},next(c){s.push(c),t.debug("Received Slice",e,s.length)},complete(){r(s)}}))}))}}class ps extends U{static useDelete(e){return m(async t=>{this.EnsureLogin();const s=await this.Invoke("OrderDeleteCancelled",t);return this.EnsureTrue(s),s},e)}}class C extends Je{static Log=["|","AdminNet"];static Hub=new ze().withUrl("/AdminHub",{logMessageContent:!1,async accessTokenFactory(){const e=await K.AccessToken();if(e)return e;throw new Error("Please Login First")}}).withAutomaticReconnect().withStatefulReconnect().withHubProtocol(new _e).configureLogging(qe.Information).build();static Index(e,t){return`${t}_Admin_${e}`}}class be extends U{static order="OrderEntity";static Order(e){return this.EnsureLogin(),this.GetVersionCache(e,this.order)}static comment="CommentEntity";static Comment(e){return this.EnsureLogin(),this.GetVersionCache(e,this.comment)}}class ue extends C{static Order(e){return this.EnsureLogin(),this.GetVersionCache(e,be.order)}static Comment(e){return this.EnsureLogin(),this.GetVersionCache(e,be.comment)}}class le extends C{static User(e){return this.EnsureLogin(),this.GetVersionCache(e,"UserEntity")}}class v extends U{static product="ProductEntity";static Product(e){return this.GetVersionCache(e,this.product)}static ProductUpdate(e,t){return this.UpdateCache(t,e,this.product)}static Lexical(e){return this.GetVersionCache(e,"LexicalEntity")}static photo="PhotoEntity";static Photo(e){return this.GetVersionCache(e,this.photo)}static usePhoto(e,t){const s=w(()=>this.Index(e,this.photo));return k(s,a=>this.Photo(a),{...t,defaultParams:[e],useMemory:!0})}static type="TypeEntity";static Type(e){return this.GetVersionCache(e,"TypeEntity")}static useType(e,t){const s=w(()=>this.Index(e,this.type));return k(s,a=>this.Type(a),{...t,defaultParams:[e],useMemory:!0})}static variant="VariantEntity";static Variant(e){return this.GetVersionCache(e,"VariantEntity")}static useVariant(e,t){const s=w(()=>this.Index(e,this.variant));return k(s,a=>this.Variant(a),{...t,defaultParams:[e],useMemory:!0})}static Combo(e){return this.GetVersionCache(e,"ComboEntity")}}class D extends v{static Log=[...super.Log,"Product","Get"];static async Basic(e,t){const s=t.With(...this.Log,"Basic"),r=await this.Product(e);if(!r)throw new Error(`Product ${e} Not Found`);const[a]=await this.PhotoList(e,!0),o=await this.Photo(a);return o?{Name:r.Name,Cover:o.ObjectId}:(s.warn(`Product ${e} has no photo`),{Name:r.Name,Cover:""})}static Limit(e){return this.Invoke("ProdGetLimit",e)}static async ComboList(e,t){const s=t.With(...this.Log,"Combo"),r=await this.GetTimeCache(e,"ProductGetComboList",o=>o.add(3,"s"),e),a=[];for(const o of r){const c=await this.Combo(o),u={};for(const d of c.Types){const h=await this.Type(d);if(!h){s.error(`[Mismatch] Type ${d} not found. Combo ${o} : Product ${e}`);continue}const l=await this.Variant(h.VariantId);if(!l){s.error(`[Mismatch] Variant ${h.VariantId} not found. Combo ${o} : Type ${d} : Product ${e}`);continue}u[l.Name]=h.Name}a.push({Id:o,Stock:c.Stock,Combo:u})}return a}static photoList="ProductGetPhotoList";static async PhotoList(e,t){if(t)return this.GetTimeCache(e,this.photoList,a=>a.add(3,"s"),e);const s=this.Index(e,this.photoList);return await this.getLocker(s),this.reqPool.add(s),await this.Invoke(this.photoList,e).finally(()=>this.reqPool.delete(s))}static usePhotoList(e,t){return k(this.Index(e,this.photoList),r=>this.PhotoList(r),{...t,defaultParams:[e]})}}class gs extends be{static Log=[...super.Log,"Order","Get"];static async List(e){this.EnsureLogin();const t=e.With(...this.Log,"List"),s=await this.GetTimeCache("","OrderGetList",a=>a.add(1,"m")),r=[];for(const a of s){const o=await this.Order(a.OrderId);if(!o){t.warn(`[Mismatch] Order ${a.OrderId} not found`);continue}const c=[];for(const u of a.Products){const d=await v.Product(u);if(!d){t.warn(`[Mismatch] Product ${u} not found`);continue}c.push(d.Name)}r.push({Id:a.OrderId,Items:c,Quantity:a.Quantity,Status:o.Status,TrackNumber:o.TrackingNumber,OrderDate:o.CreateAt})}return r.sort((a,o)=>o.OrderDate.getTime()-a.OrderDate.getTime())}static items="OrderGetItems";static useItems(e,t,s){const r=w(()=>t.With(...this.Log,"Items")),[a,o]=f.useState(),c=(s?C:this).useTimeCache(e,this.items,{defaultParams:[e],onError:r.error});return ke(async()=>{const u=c.data;if(!u)return;const d=[];let h=0;for(const l of u){const g={};let y=0;for(const R of l.Types){const _=await v.Type(R);if(!_){r.warn(`[Mismatch] Type ${R} not found. Order : ${e}`);continue}const j=await v.Variant(_.VariantId);if(!j){r.warn(`[Mismatch] Variant ${_.VariantId} not found. Type : ${R}, Order : ${e}`);continue}g[j.Name]=_.Name,y=j.ProductId}const G=await v.Product(y);if(!G){r.warn(`[Mismatch] Product ${y} not found. Order : ${e}`);continue}let z="";if(!s){const[R]=await D.PhotoList(y,!0);R||r.warn(`Product ${y} has no photo`),z=(await D.Photo(R)).ObjectId}d.push({Id:h++,ProdId:y,Cover:z,Name:G.Name,Type:g,Quantity:l.Quantity})}o(d)},[c.data]),{...c,data:a}}static useCmts(e,t,s){const r=w(()=>t.With(...this.Log,"Cmts")),[a,o]=f.useState(),c=(s?C:this).useTimeCache(e,"OrderGetCmts",{defaultParams:[e],onError:r.error});return ke(async()=>{const u=c.data;if(!u)return;const d=[];if(s)for(const h of u){const l=await ue.Comment(h);if(!l){r.warn(`[Mismatch] Comment ${h} not found. Order : ${e}`);continue}let g="Client";if(l.UserId){const y=await le.User(l.UserId);y?g=y.Forename:r.warn(`[Mismatch] User ${l.UserId} not found. Order : ${e}`)}d.push({Content:l.Content,Time:l.CreateAt,User:g})}else for(const h of u){const l=await this.Comment(h);if(!l){r.warn(`[Mismatch] Comment ${h} not found. Order : ${e}`);continue}d.push({Content:l.Content,Time:l.CreateAt,User:l.Forename||"You"})}o(d.sort((h,l)=>h.Time.getTime()-l.Time.getTime()))},[c.data]),{...c,data:a}}}class xs extends U{static useNew(e){return m((t,s)=>{this.EnsureLogin();const r=t.map(a=>({ProdId:a.ProdId,Type:Object.values(a.Type),Quantity:a.Quantity}));return this.Invoke("OrderPostNew",r,s)},e)}static useAppend(e){return m(async(t,s)=>{this.EnsureLogin();const r=await this.Invoke("OrderPostAppend",t,s);return this.EnsureTrue(r),r},e)}static useCancel(e){return m((t,s)=>(this.EnsureLogin(),this.Invoke("OrderPostCancel",t,s)),e)}static useReceived(e){return m(async t=>{this.EnsureLogin();const s=await this.Invoke("OrderPostReceived",t);return this.EnsureTrue(s),s},e)}}const fs={Get:gs,Post:xs,Delete:ps},ys={Get:D};class ws extends U{static Log=[...super.Log,"User","Get"];static me="UserGetMe";static useMe(e,t){const s=w(()=>e.With(...this.Log,"Me")),{dispatch:r}=te(s);return k(this.me,()=>(this.EnsureLogin(),this.GetVersionCache(0,this.me)),{manual:t,useMemory:!0,onError(o){o instanceof Ye||(o instanceof Qe?s.info(o):r({Message:"Failed to Get Your Info",Error:o,Request:""}))}})}}class js extends U{static useUpdate(e){return m(async t=>{this.EnsureLogin();const s=await this.Invoke("UserPostUpdate",t);return this.EnsureTrue(s),s},e)}}const Ps={Get:ws,Post:js},O={Gallery:ms,Product:ys,User:Ps,Order:fs,Storage:Ke},Ze=f.createContext({});function Z(){return f.useContext(Ze)}const we=new A("ShopCart","Context");function Cs({children:i}){const[e,t]=f.useState([]);m(async()=>{const a=await fe.toArray(),o=[];for(const c of a){const u=await O.Product.Get.Basic(c.ProdId,we);o.push({...c,...u})}t(o)},{onError:we.error});async function s(a){for(let o=0;o<a.length;o++)a[o].Id=o;t([...a]),await fe.clear(),await fe.bulkPut(a.map(o=>({Id:o.Id,ProdId:o.ProdId,Type:o.Type,Quantity:o.Quantity})))}async function r(a,o,c){const u=await O.Product.Get.Basic(a,we);e.push({...u,Id:e.length,ProdId:a,Type:o,Quantity:c}),s(e)}return n.jsx(Ze.Provider,{value:{List:e,Add:r,Update:s},children:i})}const bs=function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),vs=function(i){return"/"+i},Ue={},ge=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){const a=document.getElementsByTagName("link");r=Promise.all(t.map(o=>{if(o=vs(o),o in Ue)return;Ue[o]=!0;const c=o.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!s)for(let l=a.length-1;l>=0;l--){const g=a[l];if(g.href===o&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bs,c||(h.as="script",h.crossOrigin=""),h.href=o,document.head.appendChild(h),c)return new Promise((l,g)=>{h.addEventListener("load",l),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},Ss=S({box:{width:"-webkit-fill-available",marginTop:p.spacingVerticalXXXL,paddingTop:p.spacingVerticalXXL,paddingBottom:p.spacingVerticalL,paddingLeft:p.spacingHorizontalXXXL,paddingRight:p.spacingHorizontalXXXL,backgroundColor:p.colorNeutralBackgroundStatic},main:{...N,maxWidth:Ae,...J.margin(0,"auto"),justifyContent:"space-between",alignItems:"center"},white:{color:"white",lineHeight:p.lineHeightBase100},mag:{color:p.colorBrandForegroundInverted},logo:{...N,alignItems:"center",columnGap:p.spacingHorizontalM},text:B}),F={size:400};function Ls(){const i=Ss();return n.jsx("footer",{className:i.box,children:n.jsxs("div",{className:i.main,children:[n.jsxs("div",{className:i.logo,children:[n.jsx(ce,{src:"/DTAG.svg",height:"42px"}),n.jsxs("div",{className:i.text,children:[n.jsx(E,{...F,className:i.mag,children:"Open"}),n.jsx(E,{...F,className:i.white,children:"Telekom"}),n.jsx(E,{...F,className:i.mag,children:"Cloud"})]})]}),n.jsxs("div",{className:i.logo,children:[n.jsx(I,{href:"https://open-telekom-cloud.com/en/contact",children:n.jsx(E,{...F,className:i.white,children:"Contact"})}),n.jsx(I,{href:"https://open-telekom-cloud.com/en/disclaimer-of-liability",children:n.jsx(E,{...F,className:i.white,children:"Disclaimer of liability"})}),n.jsx(I,{href:"https://open-telekom-cloud.com/en/data-protection",children:n.jsx(E,{...F,className:i.white,children:"Data privacy"})}),n.jsx(I,{href:"https://open-telekom-cloud.com/en/imprint",children:n.jsx(E,{...F,className:i.white,children:"Imprint"})})]})]})})}const Es=S({box:{...N,flexGrow:1,height:"inherit",marginLeft:p.spacingHorizontalS,alignItems:"center"},div:{color:p.colorNeutralForegroundDisabled},link:{textDecorationLine:"unset !important"}});function Ts(){const i=Es(),{Paths:e}=$(),t=e.at(0),s=e.at(1)||"Product";return t==="Admin"&&n.jsxs("div",{className:i.box,children:[n.jsx(E,{size:600,font:"monospace",className:i.div,children:"|"}),n.jsxs(pt,{selectedValue:s,children:[n.jsx(I,{appearance:"subtle",href:"/Admin",className:i.link,children:n.jsx(xe,{value:"Product",children:"Product List"})}),n.jsx(I,{appearance:"subtle",href:"/Admin/Order",className:i.link,children:n.jsx(xe,{value:"Order",children:"Order List"})}),n.jsx(I,{appearance:"subtle",href:"/Admin/User",className:i.link,children:n.jsx(xe,{value:"User",children:"User List"})})]})]})}class Is extends C{static async Export(e){this.EnsureLogin(),await this.EnsureConnected();const t=[];return new Promise((s,r)=>{this.Hub.stream("ExportOrder").subscribe({error(a){e.error(a),r(a)},next(a){t.push(a),e.debug("Received Slice",t.length)},complete(){e.debug("Received All Slices",t.length),s(URL.createObjectURL(new Blob(t)))}})})}}class Ns extends C{static Log=[...super.Log,"Order","Get"];static Count(){return this.EnsureLogin(),this.GetTimeCache("","OrderGetCount",e=>e.add(1,"m"))}static async List(e,t){this.EnsureLogin();const s=t.With(...this.Log,"List"),r=await this.GetTimeCache(e,"OrderGetList",o=>o.add(1,"m"),e),a=[];for(const o of r){const c=await ue.Order(o.OrderId);if(!c){s.warn(`[Mismatch] Order ${o.OrderId} not found`);continue}const u=[];for(const h of o.Products){const l=await v.Product(h);if(!l){s.warn(`[Mismatch] Product ${h} not found`);continue}u.push(l.Name)}const d=await le.User(c.UserId);if(!d){s.error(`[Mismatch] User ${c.UserId} not found`);continue}a.push({Id:o.OrderId,Items:u,Quantity:o.Quantity,Status:c.Status,TrackNumber:c.TrackingNumber,OrderDate:c.CreateAt,User:d.Forename})}return a}static Order=ue.Order;static Export=Is.Export}class As extends C{static useAppend(e){return m(async(t,s)=>{const r=await this.Invoke("OrderPostAppend",t,s);return this.EnsureTrue(r),r},e)}static useClose(e){return m((t,s)=>this.Invoke("OrderPostClose",t,s),e)}static useCancel=this.useClose;static useShip(e){return m(async(t,s)=>{const r=await this.Invoke("OrderPostShip",t,s);return this.EnsureTrue(r),r},e)}static useAccept(e){return m(async t=>{const s=await this.Invoke("OrderPostAccept",t);return this.EnsureTrue(s),s},e)}}const ks={Get:Ns,Post:As};class Y extends C{static Log=[...super.Log,"Product","Get"];static list="ProductGetList";static useList(e){const t=w(()=>e.With(...this.Log,"List"));return gt(()=>this.GetTimeCache("",this.list,r=>r.add(5,"s")).catch(t.error))}static ListUpdate(e){return this.UpdateCache(e,"",this.list,b().add(5,"s"))}static Count(e){return this.GetTimeCache(e,"ProductGetCount",t=>t.add(5,"s"),e)}static async Name(e){const t=await D.Product(e);if(!t)throw new Error(`Product ${e} Not Found`);return t.Name}static async Category(e){const t=await D.Product(e);if(!t)throw new Error(`Product ${e} Not Found`);return t.Category}static variants="ProductGetVariants";static useVariants(e,t){const s=w(()=>this.Index(e,this.variants));return k(s,async a=>(await this.getLocker(s),this.reqPool.add(s),await this.Invoke(this.variants,a).finally(()=>this.reqPool.delete(s))),{...t,defaultParams:[e]})}static types="ProductGetTypes";static async Types(e){return this.GetTimeCache(e,this.types,t=>t.add(5,"s"),e)}static useTypes(e,t){const s=w(()=>this.Index(e,this.types));return k(s,a=>this.Invoke(this.types,a),{...t,defaultParams:[e]})}static useTypeList(e,t){const{data:s}=this.useTypes(e),r=w(()=>this.Index(e,"TypeList")),a=k(r,async()=>{if(!s)return[];const o=[];for(const c of s){const u=await v.Type(c);o.push(u)}return o},{...t,useMemory:!0});return f.useEffect(()=>{s&&a.refresh()},[s]),a}}class Gs extends C{static usePhoto({PhotoId:e,ProductId:t},s){const{mutate:r}=D.usePhotoList(t);return m(async()=>{const a=await this.Invoke("ProductDeletePhoto",e);return this.EnsureTrue(a),r(o=>o.filter(c=>c!==e)),a},{...s,manual:!0})}static useVariant(e,t){return m(async()=>{const s=await this.Invoke("ProductDeleteVariant",e);return this.EnsureTrue(s),s},{...t,manual:!0})}static useType(e,t){return m(async()=>{const s=await this.Invoke("ProductDeleteType",e);return this.EnsureTrue(s),s},{...t,manual:!0})}static useCombo(e){return m(async t=>{const s=await this.Invoke("ProductDeleteCombo",t);return this.EnsureTrue(s),s},{...e,manual:!0})}static useProduct(e){return m(async t=>{const s=await this.Invoke("ProductDeleteProduct",t);return this.EnsureTrue(s),Y.ListUpdate(r=>r.filter(a=>a!==t)),s},{...e,manual:!0})}static useCategory(e){return m(async t=>{const s=await this.Invoke("ProductDetachCategory",t);return this.EnsureTrue(s),v.ProductUpdate(t,r=>(r.Category=void 0,r)),s},{...e,manual:!0})}}class Os extends C{static Log=[...super.Log,"Product","Patch"];static useName(e){return m(async(t,s)=>{const r=await this.Invoke("ProductPatchName",t,s);return this.EnsureTrue(r),r},{...e,manual:!0})}static useCategory(e){return m(async(t,s)=>{const r=await this.Invoke("ProductPatchCategory",t,s);return this.EnsureTrue(r),r},{...e,manual:!0})}static usePhoto(e,t,s){const r=w(()=>t.With(...this.Log,"Photo")),{data:a}=v.usePhoto(e,{onError:r.error}),{mutate:o}=Ke.useGet(a.ObjectId,t);return m(async c=>{if(!c.type.startsWith("image/"))throw new TypeError("File is not an image");if(c.size>10*1024*1024)throw new RangeError("File is too large, max 10MB");await this.EnsureConnected();const u=new Ie,d=this.Hub.invoke("ProductPatchPhoto",e,u);await this.HandleFileStream(c,u,r),this.EnsureTrue(await d);const h=await c.arrayBuffer();return o(()=>[new Uint8Array(h)]),!0},{...s,manual:!0})}static useCaption(e,t){const{mutate:s}=v.usePhoto(e);return m(async r=>{const a=await this.Invoke("ProductPatchCaption",e,r);return this.EnsureTrue(a),s(o=>(o.Caption=r,o)),a},{...t,manual:!0})}static useVariantName(e,t){const{mutate:s}=v.useVariant(e);return m(async r=>{const a=await this.Invoke("ProductPatchVariantName",e,r);return this.EnsureTrue(a),s(o=>(o.Name=r,o)),a},{...t,manual:!0})}static useType(e,t){const{mutate:s}=v.useType(e);return m(async r=>{const a=await this.Invoke("ProductPatchType",e,r);return this.EnsureTrue(a),s(o=>(o.Name=r,o)),a},{...t,manual:!0})}static useCombo(e){return m(async(t,s,r)=>{const a=await this.Invoke("ProductPatchCombo",t,s,r);return this.EnsureTrue(a),a},{...e,manual:!0})}}let et;function yn(i){et=i}class $s extends C{static Log=[...super.Log,"Product","Post"];static useCreate(e){return m(async t=>{const s=await this.Invoke("ProductPostCreate",t);return Y.ListUpdate(r=>[s,...r]),s},{...e,manual:!0})}static useMovePhoto({ProductId:e,PhotoId:t},s){const{mutate:r}=D.usePhotoList(e);return m(async a=>{const o=await this.Invoke("ProductPostMovePhoto",t,a);return this.EnsureTrue(o),r(c=>{const u=c.findIndex(l=>l===t);if(u===-1)return c;const d=a?u-1:u+1;if(d<0||d>=c.length)return c;const h=c[u];return c[u]=c[d],c[d]=h,c}),o},{...s,manual:!0})}static usePhoto(e,t,s){const r=w(()=>t.With(...this.Log,"Photo")),{mutate:a}=D.usePhotoList(e);return m(async o=>{if(!o.type.startsWith("image/"))throw new TypeError("File is not an image");if(o.size>10*1024*1024)throw new RangeError("File is too large, max 10MB");const c=new Ie,u=this.Invoke("ProductPostPhoto",e,c);await this.HandleFileStream(o,c,r);const d=await u;return a(h=>[...h||[],d]),d},{...s,manual:!0})}static useVariant(e,t){const{mutate:s}=Y.useVariants(e);return m(async r=>{const a=await this.Invoke("ProductPostVariant",e,r);return s(o=>[a,...o||[]]),a},{...t,manual:!0})}static useType(e,t){const{mutate:s}=Y.useTypes(e);return m(async r=>{const a=await this.Invoke("ProductPostType",e,r);return s(o=>[a,...o||[]]),a},{...t,manual:!0})}static useCombo(e){return m((t,s,r)=>this.Invoke("ProductPostCombo",t,s,r),{...e,manual:!0})}static useLexical(e){return m(async t=>{const s=et?.getEditorState();let r;s&&!s.isEmpty()&&(r=JSON.stringify(s.toJSON()));const a=await this.Invoke("ProductPostDescription",t,r);return this.EnsureTrue(a),a},{...e,manual:!0})}}const Us={Get:Y,Post:$s,Patch:Os,Delete:Gs};class Rs extends C{static useUser(e){return m(async t=>{const s=await this.Invoke("UserDeleteUser",t);return this.EnsureTrue(s),s},e)}static useAdmin(e){return m(async t=>{const s=await this.Invoke("UserDeleteAdmin",t);return this.EnsureTrue(s),s},e)}}class Ms extends C{static async OrderUser(e){const t=await ue.Order(e);if(!t)throw new Error(`Order ${e} not found`);const s=await le.User(t.UserId);if(!s)throw new Error(`User ${t.UserId} not found in order ${e}`);return s}static async List(){const e=await this.GetTimeCache("","UserGetList",s=>s.add(1,"m")),t=[];for(const s of e){const r=await le.User(s);if(!r){console.warn(`User ${s} not found`);continue}t.push({Id:s,Name:`${r.Surname}, ${r.Forename}`,EMail:r.EMail,Admin:r.Admin})}return t}}class Bs extends C{static useAdmin(e){return m(async t=>{const s=await this.Invoke("UserPostAdmin",t);return this.EnsureTrue(s),s},e)}}const Ds={Get:Ms,Post:Bs,Delete:Rs},tt={Product:Us,Order:ks,User:Ds},Re=new A("Admin","Order","ExportButton");function Fs(){const{Paths:i}=$(),e=i.at(0),t=i.at(1),{dispatch:s,dispatchToast:r}=te(Re),{run:a,loading:o}=m(()=>tt.Order.Get.Export(Re),{manual:!0,onError(c,u){s({Message:"Failed Export Orders",Request:u,Error:c})},onSuccess(c){r(n.jsx(de,{children:n.jsx(he,{children:"Orders Exported"})}),{intent:"success"});const u=document.createElement("a");u.href=c,u.download=`AllOrders_${new Date().toISOString()}.xlsx`,u.click()}});return e==="Admin"&&t==="Order"&&n.jsx(T,{appearance:"subtle",icon:n.jsx(xt,{}),onClick:a,disabled:o,children:"Export Orders"})}const Vs=S({body:B}),Hs=new A("Admin","Product","AddButton");function zs(){const{Nav:i,Paths:e}=$(),t=e.at(0),s=e.at(1),r=Vs(),[a,o]=f.useState(""),{dispatch:c,dispatchToast:u}=te(Hs),{run:d,loading:h}=tt.Product.Post.useCreate({onError(l,g){c({Message:`Failed Create ${a}`,Request:g,Error:l})},onSuccess(l){u(n.jsxs(de,{children:[n.jsx(he,{children:"New Product Created"}),n.jsxs(Se,{children:[l," ",a]})]}),{intent:"success"}),i("Admin",l),o("")}});return t==="Admin"&&!s&&n.jsxs(Fe,{children:[n.jsx(Ce,{disableButtonEnhancement:!0,children:n.jsx(T,{appearance:"primary",icon:n.jsx(ft,{}),children:"New Product"})}),n.jsx(Le,{children:n.jsxs(Ee,{children:[n.jsx(Te,{className:r.body,children:n.jsx(L,{required:!0,size:"large",value:a,maxLength:15,appearance:"underline",onChange:(l,g)=>o(g.value),contentBefore:n.jsx(yt,{children:"Give A Name"})})}),n.jsxs(He,{children:[n.jsx(Ce,{disableButtonEnhancement:!0,children:n.jsx(T,{appearance:"secondary",children:"Cancel"})}),n.jsx(T,{disabled:h,appearance:"primary",onClick:()=>d(a),children:"Create"})]})]})})]})}function _s(){const{Paths:i,Search:e,Put:t}=$(),s=i.at(0),r=i.at(1);return s==="Admin"&&r==="User"&&n.jsxs(n.Fragment,{children:[n.jsx(L,{placeholder:"Search by E-Mail",contentBefore:n.jsx(wt,{}),appearance:"underline",onChange:(a,o)=>{o.value?e.set("search",o.value):e.delete("search"),t(e)}}),n.jsx(jt,{label:"Only Admin",checked:e.get("admin")==="",onChange:(a,o)=>{o.checked?e.set("admin",""):e.delete("admin"),t(e)}})]})}const qs=new A("Avatar","Menu");function Ws(){const[i,{toggle:e}]=V(),[t,{toggle:s}]=V(),r=ee(),[a,{set:o}]=V(!0);f.useEffect(()=>{q.subscribe(d=>o(!d))},[]);const{data:c}=O.User.Get.useMe(qs),u=r.user?.profile.preferred_username;return n.jsxs(n.Fragment,{children:[n.jsxs(Pt,{open:i,onOpenChange:e,children:[n.jsx(Ct,{children:n.jsx(bt,{size:36,active:i?"active":"unset",name:u})}),n.jsx(vt,{children:n.jsxs(St,{children:[n.jsx(oe,{children:n.jsxs(Lt,{children:["Hi ",u]})}),n.jsx(rs,{children:n.jsx(W,{onClick:()=>r.signinRedirect(),children:"Login"})}),n.jsxs(oe,{children:[n.jsx(I,{appearance:"subtle",href:"/History",children:n.jsx(W,{children:"History"})}),c?.Admin&&n.jsx(I,{appearance:"subtle",href:"/Admin",children:n.jsx(W,{children:"Admin"})}),n.jsx(W,{onClick:s,children:"Setting"}),n.jsx(W,{onClick:()=>r.signoutRedirect(),children:"Logout"})]})]})})]}),a&&n.jsx(oe,{children:n.jsx(Xe,{Open:t,Toggle:s})})]})}function st({Items:i,Columns:e,NoHeader:t,getRowId:s}){const r=s||(a=>a.Id);return n.jsxs(Et,{items:i||[],columns:e,getRowId:r,children:[!t&&n.jsx(Tt,{children:n.jsx(Ge,{children:({renderHeaderCell:a})=>a()})}),n.jsx(It,{children:({item:a,rowId:o})=>n.jsx(Ge,{children:({renderCell:c})=>c(a)},o)}),!i&&n.jsx(Nt,{size:48})]})}const Me=i=>"https://placehold.co/400?text="+i+"...";function Xs({Guid:i,ParentLog:e,...t}){if(!i)return n.jsx(ce,{...t,src:Me("Pending")});const{data:s}=O.Storage.useGet(i,e);return n.jsx(ce,{...t,src:s?URL.createObjectURL(new Blob(s)):Me("Loading")})}const Be=S({unset:{flexBasis:"unset",flexGrow:0},img:{...is,aspectRatio:"1",marginTop:p.spacingVerticalXS,marginBottom:p.spacingVerticalXS}});function Qs(i,e,t){const s={width:`${i}px`};return ne({columnId:"Cover",renderHeaderCell:()=>{const r=Be();return n.jsx(At,{className:r.unset,children:n.jsx("div",{style:s})})},renderCell(r){const a=Be(),o=t(r);return n.jsx(re,{className:a.unset,children:n.jsx(Xs,{className:a.img,style:s,Guid:o,ParentLog:e})})}})}function Ys(i){const{List:e}=Z(),{data:t}=m(()=>O.Product.Get.Limit(i)),s=t||3;let r=0;for(const a of e)if(a.ProdId===i&&(r+=a.Quantity),r>=s)return[!0,s,r];return[!1,s,r]}const je=S({prod:{...B,alignItems:"flex-start",justifyContent:"center"},qua:{flexBasis:"12%",flexGrow:0},act:{flexBasis:"7%",flexGrow:0}}),Js=[ne({columnId:"Product",renderCell(i){return n.jsxs(re,{className:je().prod,children:[n.jsx(I,{href:`/Product/${i.ProdId}`,appearance:"subtle",children:n.jsx(kt,{children:i.Name})}),n.jsx(Gt,{children:Object.values(i.Type).reduce((e,t)=>`${e} ${t},`,"")})]})}}),ne({columnId:"Quantity",renderCell(i){const{List:e,Update:t}=Z(),[s,r]=Ys(i.ProdId);return n.jsx(re,{className:je().qua,children:n.jsx(Ot,{min:1,max:r,value:i.Quantity,onChange:(a,o)=>{const c=parseInt(o.value||o.displayValue);isNaN(c)||c<1||c>r||s&&c>=i.Quantity||(i.Quantity=c,t(e))}})})}}),ne({columnId:"Action",renderCell(i){const{List:e,Update:t}=Z();return n.jsx(re,{className:je().act,children:n.jsx(T,{appearance:"subtle",icon:n.jsx($t,{}),onClick:()=>t(e.filter(s=>s.Id!==i.Id))})})}})];function nt(i){return[Qs(44,i,e=>e.Cover),...Js]}const Ks=S({person:N,inf:{...B,flexBasis:"50%",rowGap:p.spacingVerticalM}});function Zs({Log:i}){const e=Ks(),t=w(()=>i.With("PersonaInfo")),{data:s}=O.User.Get.useMe(t);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:e.person,children:[n.jsx("div",{className:e.inf,children:n.jsx(P,{label:"Name",size:"large",children:n.jsxs(Q,{children:[s?.Surname,", ",s?.Forename]})})}),n.jsx("div",{className:e.inf,children:n.jsx(P,{label:"Phone",size:"large",children:n.jsx(Q,{children:s?.Phone})})})]}),n.jsx(P,{label:"E-Mail",size:"large",children:n.jsx(Q,{children:s?.EMail})}),n.jsx(P,{label:"Address",size:"large",children:n.jsx(Q,{children:s?.Address})})]})}const en=S({body:{...B,rowGap:p.spacingVerticalXL},sub:{width:"fit-content",alignSelf:"flex-end"},title:{...N,alignItems:"center",columnGap:p.spacingHorizontalM}}),Pe=new A("TopNavBar","ShopCart","Confirm");function tn(){const[i,e]=f.useState(),[t,{toggle:s}]=V(),{List:r,Update:a}=Z(),{Nav:o}=$(),c=en(),{dispatch:u,dispatchToast:d,dismissToast:h}=te(Pe),l=f.useId(),{run:g}=O.Order.Post.useNew({manual:!0,onError(y,G){u({Message:"Failed Create Order",Request:G,Error:y})},onSuccess(y){d(n.jsx(Le,{children:n.jsxs(Ee,{children:[n.jsxs(Ve,{action:n.jsx(T,{appearance:"subtle",icon:n.jsx(Oe,{}),onClick:()=>h(l)}),className:c.title,children:[n.jsx(Ut,{size:"large",color:"success",icon:n.jsx(Rt,{})}),"Thank You!"]}),n.jsxs(Te,{children:["Your order ",y," has been placed and is being processed.",n.jsx("br",{}),n.jsx("br",{}),"You can click Avatar -",">"," History to view details,",n.jsx("br",{}),"send us an additional comment or even cancel it.",n.jsx("br",{}),n.jsx("br",{}),"You will now be taken to your order details."]})]})}),{toastId:l,timeout:5e3,onStatusChange(G,z){z.status==="unmounted"&&o("History",y)}}),s(),a([])}});return n.jsxs(n.Fragment,{children:[n.jsx(T,{appearance:"primary",onClick:s,disabled:!r.length,children:"Checkout"}),n.jsxs(Mt,{open:t,onOpenChange:s,position:"end",size:"medium",modalType:"alert",children:[n.jsx(Bt,{children:n.jsx(Dt,{action:n.jsx(T,{appearance:"subtle",icon:n.jsx(Oe,{}),onClick:s}),children:"Confirm Order"})}),n.jsx(Ft,{children:n.jsxs("div",{className:c.body,children:[n.jsx(Zs,{Log:Pe}),n.jsx(st,{Items:r,Columns:w(()=>nt(Pe)),NoHeader:!0}),n.jsx(P,{label:"Comment",size:"large",children:n.jsx(Vt,{value:i,onChange:(y,G)=>e(G.value),maxLength:1e3})}),n.jsx(T,{appearance:"primary",className:c.sub,disabled:!r.length,onClick:()=>g(r,i),children:"Submit"})]})})]})]})}const sn=S({conf:{...N,width:"100%",alignItems:"center",justifyContent:"space-between",marginTop:p.spacingVerticalS,columnGap:p.spacingHorizontalL},tooltip:{backgroundColor:p.colorBrandBackground,color:p.colorNeutralForegroundInverted,...J.borderRadius(p.borderRadiusCircular)}}),nn=new A("TopNavBar","ShopCart");function rn(){const[i,{toggle:e}]=V(),[t,{toggle:s}]=V(),r=sn(),{List:a}=Z();return De(()=>{if(i)return;s();const o=setTimeout(s,2e3);return()=>clearTimeout(o)},[a]),n.jsxs(Ht,{withArrow:!0,open:i,onOpenChange:e,children:[n.jsx(zt,{disableButtonEnhancement:!0,children:n.jsx(X,{visible:t,withArrow:!0,content:{children:"↑",className:r.tooltip},relationship:"inaccessible",children:n.jsx(_t,{icon:n.jsx(qt,{}),appearance:"subtle",size:"large",checked:i})})}),n.jsxs(Wt,{children:[n.jsx(st,{Items:a,Columns:w(()=>nt(nn)),NoHeader:!0}),n.jsxs("div",{className:r.conf,children:[a.map(o=>o.Quantity).reduce((o,c)=>o+c,0)," items in shopping cart",n.jsx(tn,{})]})]})]})}const an=S({navBox:{position:"fixed",top:0,width:"100%",height:`${Ne}px`,...J.padding(0,p.spacingHorizontalXXXL),backgroundColor:"#fff",boxSizing:"border-box",boxShadow:p.shadow4},navBar:{...N,maxWidth:Ae,height:"100%",...J.margin(0,"auto"),alignItems:"center",justifyContent:"space-between"},logoBox:{...N,columnGap:p.spacingHorizontalL,alignItems:"center"},logoText:{color:p.colorBrandForeground2}});function on(){const i=an();return n.jsx(Xt,{children:n.jsx("header",{className:i.navBox,children:n.jsxs("nav",{className:i.navBar,children:[n.jsxs(I,{className:i.logoBox,href:"/",children:[n.jsx(ce,{src:"/telekom-logo.svg",height:Ne}),n.jsx(E,{size:600,className:i.logoText,children:me.Name})]}),n.jsx(Ts,{}),n.jsxs("div",{className:i.logoBox,children:[n.jsx(zs,{}),n.jsx(_s,{}),n.jsx(Fs,{}),n.jsx(rn,{}),n.jsx(Ws,{})]})]})})})}function cn(){const{Rep:i}=$();return setTimeout(()=>i("/"),3e3),n.jsxs(n.Fragment,{children:[n.jsxs(Qt,{children:[n.jsxs("title",{children:["Redirect - Not Found - ",me.Name]}),n.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),n.jsx(ae,{size:"huge",label:"Redirecting..."})]})}const un=S({body:{...B,minWidth:"375px",position:"absolute",marginTop:`${Ne}px`,width:"100%",minHeight:"-webkit-fill-available",justifyContent:"space-between",backgroundColor:p.colorNeutralBackground2},content:{...B,maxWidth:Ae,width:"-webkit-fill-available",marginLeft:"auto",marginRight:"auto",paddingLeft:p.spacingHorizontalM,paddingRight:p.spacingHorizontalM,paddingTop:p.spacingVerticalXXXL}});function ln(){const i=un(),{Paths:e}=$(),t=e.at(0),s=f.useMemo(()=>{switch(t){case"Product":return n.jsx(dn,{});case"Admin":return n.jsx(hn,{});case"History":return n.jsx(mn,{});case"Login":return n.jsx(ae,{size:"huge",label:"Login Redirecting..."});case"Reload":return n.jsx(ae,{size:"huge",label:"Reloading..."});case"":case void 0:return n.jsx(pn,{});default:return n.jsx(cn,{})}},[t]);return n.jsxs(n.Fragment,{children:[n.jsx(on,{}),n.jsxs("div",{className:i.body,children:[n.jsx("main",{className:i.content,children:n.jsx(f.Suspense,{fallback:n.jsx(ae,{}),children:s})}),n.jsx(Ls,{})]}),n.jsx(ls,{})]})}const dn=f.lazy(()=>ge(()=>import("./index-CS76rNuF.js"),__vite__mapDeps([0,1,2,3]))),hn=f.lazy(()=>ge(()=>import("./index-Xe-VJH8m.js"),__vite__mapDeps([4,1,5,2]))),mn=f.lazy(()=>ge(()=>import("./index-o8n0WVWF.js"),__vite__mapDeps([6,1,5]))),pn=f.lazy(()=>ge(()=>import("./index-tc82YPLa.js"),__vite__mapDeps([7,1]))),gn={10:"#390024",20:"#51002f",30:"#69003b",40:"#810046",50:"#9a0052",60:"#b2005d",70:"#ca0069",80:"#e20074",90:"#e51e85",100:"#e93d95",110:"#ec5ba6",120:"#ef79b7",130:"#f297c7",140:"#f6b6d8",150:"#f9d4e8",160:"#fcf2f9"},H=Yt(gn);H.fontFamilyBase=`TeleNeoWeb, ${H.fontFamilyBase}`;H.fontFamilyMonospace=`TeleNeoWeb, ${H.fontFamilyMonospace}`;H.fontFamilyNumeric=`TeleNeoWeb, ${H.fontFamilyNumeric}`;const rt=new A("LoveOTC");rt.info("Version: 1.4.0 2024/03/03");rt.debug("T-Systems, EcoSystem Squad, Aloento");Jt.createRoot(document.getElementById(me.Name)).render(n.jsx(Kt,{theme:H,children:n.jsx(es,{children:n.jsx(ts,{children:n.jsx(Cs,{children:n.jsx(ln,{})})})})}));export{tt as A,fn as B,is as C,me as D,N as F,Xs as G,O as H,A as L,Qs as M,Je as S,ge as _,B as a,Ys as b,$ as c,as as d,st as e,te as f,k as g,yn as h,Z as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-CS76rNuF.js","assets/vendor-N2r31fDL.js","assets/Lazy-neZkc_SA.js","assets/index-Cxy6evux.css","assets/index-Xe-VJH8m.js","assets/Columns-BHrkRB_U.js","assets/index-o8n0WVWF.js","assets/index-tc82YPLa.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
